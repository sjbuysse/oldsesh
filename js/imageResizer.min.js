var imageResizer=function(){function t(t){t.naturalWidth;var e=t.naturalHeight,a=document.createElement("canvas");a.width=1,a.height=e;var n=a.getContext("2d");n.drawImage(t,0,0);for(var r=n.getImageData(0,0,1,e).data,i=0,o=e,u=e;u>i;)0===r[4*(u-1)+3]?o=u:i=u,u=o+i>>1;var c=u/e;return 0===c?1:c}function e(e,a,n,r,i,o,u,c,g,m){var d=t(a);console.log("Vertical Squash Ration: "+d),e.drawImage(a,n,r,i,o,u,c,g,m/d)}var a={};return a.resizeImage=function(t,a,n,r){n=n||1e3,r=r||1e3;var i=document.createElement("img");i.onload=function(){var t=i.width,o=i.height;t>o?t>n&&(o*=n/t,t=n):o>r&&(t*=r/o,o=r);var u=document.createElement("canvas");u.width=t,u.height=o;var c=u.getContext("2d");setTimeout(function(){e(c,i,0,0,i.naturalWidth,i.naturalHeight,0,0,t,o)},10),setTimeout(function(){u.toBlob(function(t){a(t)},"image/png")},10)},i.src=t},a}();